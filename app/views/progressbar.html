<div class="panel panel-default">
<div class="panel-heading">
  <span ng-hide="edit">{{bar.name}}</span>
  <div ng-show="edit" class="input-group input-group-lg">
    <input type="text" class="form-control" placeholder="Bar name" aria-describedby="sizing-addon1" value="{{bar.name}}" />
  </div>
</div>

<div class="panel-body">
  <bar-settings ng-show="edit"></bar-settings>

  <p ng-hide="edit" class="description" ng-bind-html="bar.note | markdown"></p>
  <blockquote ng-show="debug"><small>{{ bar | json }}</small></blockquote>
  <div ng-hide="edit" class="progress">
    <div class="progress-bar progress-bar-striped" role="progressbar" 
    aria-valuenow="{{bar.percentile}}" aria-valuemin="0" aria-valuemax="100"
    ng-style="{width: bar.percentile + '%'}"
    ng-class="{active: bar.running, 'progress-bar-danger': bar.overextend}">
      <span ng-show="bar.percentile > 5">{{bar.current | formatProgress:bar.type}}</span>
    </div>
  </div>

</div>

<div class="panel-footer">
    <button type="button" class="btn btn-default" ng-show="bar.type == 'timer'" 
    ng-click='toggleTimer()'
    aria-label="{{bar.running ? 'Stop' : 'Start'}}">

      <span ng-show="bar.running" class="glyphicon glyphicon-pause" aria-hidden="true"></span>
      <span ng-show="!bar.running" class="glyphicon glyphicon-play" aria-hidden="true"></span>
    </button>
     <button type="button" class="btn btn-default" 
      ng-show="bar.type == 'timer'"  aria-label="Reset"
      ng-click='resetTimer()'>
        <span class="glyphicon glyphicon-repeat" aria-hidden="true">
    </button>

    <button type="button" class="btn btn-default" aria-label="Debug"
    ng-click='debug = !debug'>
      <span class="glyphicon glyphicon-dashboard" aria-hidden="true">
    </span>
    </button>

    <button type="button" class="btn btn-default" aria-label="Edit"
    ng-click='edit = true' ng-hide="edit">
      <span class="glyphicon glyphicon-pencil" aria-hidden="true">
    </span>
    </button>

    <button type="button" class="btn btn-default" aria-label="Done"
    ng-click='toggleEdit()' ng-show="edit">
      <span class="glyphicon glyphicon-ok" aria-hidden="true">
    </span>
    </button>

</div>

</div>